let jSprite=function(){let e={spriteSheet:!1,container:!1,columns:!1,rows:!1,autoStart:!1,repeat:!0,startFrame:1,endFrame:!1,length:!1,timing:!1,timings:!1,widthOffset:0,onStart:!1,onStop:!1,onProgress:!1,onComplete:!1,onRepeat:!1};if(arguments[0]&&"object"==typeof arguments[0])for(var t in arguments[0])if(e.hasOwnProperty(t)){let r=arguments[0][t];e[t]=void 0!=r&&arguments[0][t]}let r={dom:{container:!1},img:!1,spriteSheetW:0,spriteSheetH:0,frameW:0,frameH:0,frame:1,frames:[],maxFrames:0,noOfFramesToPlay:0,stopRequested:!1,bg:!1,status:"stopped"};function a(t){r.spriteSheetW=t.target.width,r.spriteSheetH=t.target.height,r.frameW=Math.ceil(t.target.width/e.columns),r.frameH=Math.ceil(t.target.height/e.rows);let a="url("+t.target.src+")";r.dom.container=document.getElementById(e.container),r.dom.container.style.backgroundImage=a,r.dom.container.style.backgroundRepeat="no-repeat",r.dom.container.style.backgroundPosition="0px 0px",function(t){a="initVars(fromImageLoad:"+t+")",console.log(a),t||(r.frame=e.startFrame);var a;r.xLim=r.spriteSheetW/r.frameW,r.yLim=r.spriteSheetH/r.frameH,r.frameW+=e.widthOffset,r.dom.container.style.width=r.frameW+"px",r.dom.container.style.height=r.frameH+"px",r.maxFrames=e.columns*e.rows,!1===e.length&&!1===e.endFrame?(r.noOfFramesToPlay=r.maxFrames,e.length=r.maxFrames,e.endFrame=r.maxFrames):!1!==e.endFrame?e.endFrame>r.maxFrames?(console.warn("jSprite: You entered an incorrect end frame value ["+e.endFrame+"] for "+r.img.src+" reverting to the maximum number of frames in sprite sheet ["+r.maxFrames+"]"),r.noOfFramesToPlay=r.maxFrames,e.length=r.maxFrames,e.endFrame=r.maxFrames):(r.noOfFramesToPlay=e.endFrame-e.startFrame,e.length=e.endFrame+e.startFrame-1):!1!==e.length?e.length>r.maxFrames||e.length<=0?(console.warn("jSprite: You entered a length ["+e.length+"] for "+r.img.src+" reverting to the maximum number of frames in sprite sheet ["+r.maxFrames+"]"),r.noOfFramesToPlay=r.maxFrames,e.length=r.maxFrames,e.endFrame=r.maxFrames):(r.noOfFramesToPlay=e.length,e.endFrame=e.startFrame+e.length-1):(r.noOfFramesToPlay=r.maxFrames,e.length=r.maxFrames,e.endFrame=r.maxFrames);for(let t=1;t<=e.rows;t++)for(let a=1;a<=e.columns;a++){0;let e=0-(a-1)*r.frameW,m=0-(t-1)*r.frameH;r.frames.push([e,m])}r.frame=e.startFrame,!0===t&&e.autoStart&&(!1!==e.onStart&&e.onStart(),m())}(!0)}function m(){if(!0===r.stopRequested)return r.stopRequested=!1,r.status="stopped",void(!1!==e.onStop&&e.onStop());if(r.status="playing",!1!==e.onProgress){let t={frame:r.frame,totalFrames:r.maxFrames};e.onProgress(t)}let t=r.frames[r.frame-1][0],a=r.frames[r.frame-1][1];r.dom.container.style.backgroundPosition=t+"px "+a+"px";let s=function(){if(!1!==e.timing)return e.timing;{let t=e.timings[r.frame-1];return t||(t=1e3),t}}();r.frame++,r.frame<=e.endFrame?setTimeout(m,s):(r.frame=e.startFrame,e.repeat?(!1!==e.onRepeat&&e.onRepeat(),setTimeout(m,s)):(!1!==e.onComplete&&e.onComplete(),r.status="stopped"))}this.start=function(){"playing"!=r.status&&(!1!==e.onStart&&e.onStart(),m())},this.stop=function(){r.stopRequested=!0},this.restart=function(){r.frame=e.startFrame,"stopped"==r.status&&m()},this.setStartFrame=function(t){e.startFrame=t,e.endFrame=e.startFrame+e.length,e.endFrame>r.maxFrames&&(e.endFrame=r.maxFrames,e.length=r.maxFrames-e.startFrame),r.frame=e.startFrame},this.setLength=function(t){e.length=t-1,e.endFrame=e.startFrame+e.length,e.endFrame>r.maxFrames&&(e.endFrame=r.maxFrames),r.frame=e.startFrame},e.startFrame<1&&(e.startFrame=1),!1!==e.spriteSheet?!1!==e.container?!1!==e.columns?!1!==e.rows?!1!==e.timing||!1!==e.timings?(r.img=new Image,r.img.onload=a,r.img.src=e.spriteSheet):console.error("jsprite.js: usage error: you must specify either timing or timings for each frame!"):console.error("jsprite.js: usage error: you must specify the no' of frames (rows) onthe y axis!"):console.error("jsprite.js: usage error: you must specify the no' of frames (columns) on the x axis!"):console.error("jsprite.js: usage error: you must specify a container (must be an element id"):console.error("jsprite.js: usage error: you must specify a sprite sheet to use!")};